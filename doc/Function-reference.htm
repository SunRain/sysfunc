
<table cellpadding=2 cellspacing=0 border=0><tr><td width=100% align=left>1. <a href="#p1"><b>System database</b></a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 1.1. <a href="#p1.1">sf_db_clear</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 1.2. <a href="#p1.2">sf_db_normalize</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 1.3. <a href="#p1.3">sf_db_key</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 1.4. <a href="#p1.4">sf_db_unset</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 1.5. <a href="#p1.5">sf_db_set</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 1.6. <a href="#p1.6">sf_db_copy</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 1.7. <a href="#p1.7">sf_db_rename</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 1.8. <a href="#p1.8">sf_db_set_timestamp</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 1.9. <a href="#p1.9">sf_db_isset</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 1.10. <a href="#p1.10">sf_db_get</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 1.11. <a href="#p1.11">sf_db_dump</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 1.12. <a href="#p1.12">sf_db_list</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 1.13. <a href="#p1.13">sf_db_import</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 1.14. <a href="#p1.14">sf_db_expand</a></td></tr>
<tr><td width=100% align=left>2. <a href="#p2"><b>Disk management</b></a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 2.1. <a href="#p2.1">sf_disk_normalize_device</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 2.2. <a href="#p2.2">sf_disk_fs_size</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 2.3. <a href="#p2.3">sf_disk_category</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 2.4. <a href="#p2.4">sf_disk_type</a></td></tr>
<tr><td width=100% align=left>3. <a href="#p3"><b>File/dir management</b></a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 3.1. <a href="#p3.1">sf_delete</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 3.2. <a href="#p3.2">sf_find_executable</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 3.3. <a href="#p3.3">sf_create_dir</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 3.4. <a href="#p3.4">sf_save</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 3.5. <a href="#p3.5">sf_rename_to_old</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 3.6. <a href="#p3.6">sf_check_copy</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 3.7. <a href="#p3.7">sf_check_block</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 3.8. <a href="#p3.8">sf_contains_block</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 3.9. <a href="#p3.9">sf_chown</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 3.10. <a href="#p3.10">sf_chmod</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 3.11. <a href="#p3.11">sf_check_link</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 3.12. <a href="#p3.12">sf_comment_out</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 3.13. <a href="#p3.13">sf_uncomment</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 3.14. <a href="#p3.14">sf_check_line</a></td></tr>
<tr><td width=100% align=left>4. <a href="#p4"><b>Filesystem management</b></a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 4.1. <a href="#p4.1">sf_has_dedicated_fs</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 4.2. <a href="#p4.2">sf_get_fs_mnt</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 4.3. <a href="#p4.3">sf_get_fs_device</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 4.4. <a href="#p4.4">sf_get_fs_size</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 4.5. <a href="#p4.5">sf_set_fs_space</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 4.6. <a href="#p4.6">sf_create_fs</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 4.7. <a href="#p4.7">sf_fs_default_type</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 4.8. <a href="#p4.8">sf_create_lv_fs</a></td></tr>
<tr><td width=100% align=left>5. <a href="#p5"><b>IP address manipulation (V 4 only)</b></a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 5.1. <a href="#p5.1">sf_ip4_is_valid_ip</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 5.2. <a href="#p5.2">sf_ip4_validate_ip</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 5.3. <a href="#p5.3">sf_ip4_network</a></td></tr>
<tr><td width=100% align=left>6. <a href="#p6"><b>Kernel</b></a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 6.1. <a href="#p6.1">sf_krn_module_is_loaded</a></td></tr>
<tr><td width=100% align=left>7. <a href="#p7"><b>Logical volume management</b></a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 7.1. <a href="#p7.1">sf_lv_exists</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 7.2. <a href="#p7.2">sf_vg_exists</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 7.3. <a href="#p7.3">sf_create_lv</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 7.4. <a href="#p7.4">sf_create_vg</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 7.5. <a href="#p7.5">sf_lv_to_vg</a></td></tr>
<tr><td width=100% align=left>8. <a href="#p8"><b>Utility functions</b></a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 8.1. <a href="#p8.1">sf_loaded</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 8.2. <a href="#p8.2">sf_version</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 8.3. <a href="#p8.3">sf_exec_url</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 8.4. <a href="#p8.4">sf_cleanup</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 8.5. <a href="#p8.5">sf_finish</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 8.6. <a href="#p8.6">sf_func_is_defined</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 8.7. <a href="#p8.7">sf_txt_cleanup</a></td></tr>
<tr><td width=100% align=left>9. <a href="#p9"><b>Message/Error handling</b></a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 9.1. <a href="#p9.1">sf_fatal</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 9.2. <a href="#p9.2">sf_unsupported</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 9.3. <a href="#p9.3">sf_error</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 9.4. <a href="#p9.4">sf_error_import</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 9.5. <a href="#p9.5">sf_show_errors</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 9.6. <a href="#p9.6">sf_error_count</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 9.7. <a href="#p9.7">sf_warning</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 9.8. <a href="#p9.8">sf_msg</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 9.9. <a href="#p9.9">sf_trace</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 9.10. <a href="#p9.10">sf_debug</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 9.11. <a href="#p9.11">sf_msg1</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 9.12. <a href="#p9.12">sf_msg_section</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 9.13. <a href="#p9.13">sf_separator</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 9.14. <a href="#p9.14">sf_newline</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 9.15. <a href="#p9.15">sf_banner</a></td></tr>
<tr><td width=100% align=left>10. <a href="#p10"><b>User interaction</b></a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 10.1. <a href="#p10.1">sf_ask</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 10.2. <a href="#p10.2">sf_yn_question</a></td></tr>
<tr><td width=100% align=left>11. <a href="#p11"><b>Network</b></a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 11.1. <a href="#p11.1">sf_domain_part</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 11.2. <a href="#p11.2">sf_host_part</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 11.3. <a href="#p11.3">sf_dns_addr_to_name</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 11.4. <a href="#p11.4">sf_dns_name_to_addr</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 11.5. <a href="#p11.5">sf_primary_ip_address</a></td></tr>
<tr><td width=100% align=left>12. <a href="#p12"><b>OS management</b></a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 12.1. <a href="#p12.1">sf_os_id</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 12.2. <a href="#p12.2">sf_compute_os_id</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 12.3. <a href="#p12.3">sf_os_distrib</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 12.4. <a href="#p12.4">sf_os_family</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 12.5. <a href="#p12.5">sf_os_version</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 12.6. <a href="#p12.6">sf_os_arch</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 12.7. <a href="#p12.7">sf_reboot</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 12.8. <a href="#p12.8">sf_shutdown</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 12.9. <a href="#p12.9">sf_poweroff</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 12.10. <a href="#p12.10">sf_find_posix_shell</a></td></tr>
<tr><td width=100% align=left>13. <a href="#p13"><b>Software management</b></a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 13.1. <a href="#p13.1">sf_soft_exists</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 13.2. <a href="#p13.2">sf_soft_list</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 13.3. <a href="#p13.3">sf_soft_is_installed</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 13.4. <a href="#p13.4">sf_soft_is_upgradeable</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 13.5. <a href="#p13.5">sf_soft_is_up_to_date</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 13.6. <a href="#p13.6">sf_soft_available_version</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 13.7. <a href="#p13.7">sf_soft_install</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 13.8. <a href="#p13.8">sf_soft_install_upgrade</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 13.9. <a href="#p13.9">sf_soft_uninstall</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 13.10. <a href="#p13.10">sf_soft_remove</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 13.11. <a href="#p13.11">sf_soft_reinstall</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 13.12. <a href="#p13.12">sf_soft_version</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 13.13. <a href="#p13.13">sf_soft_clean_cache</a></td></tr>
<tr><td width=100% align=left>14. <a href="#p14"><b>Service management</b></a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 14.1. <a href="#p14.1">sf_svc_is_enabled</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 14.2. <a href="#p14.2">sf_svc_enable</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 14.3. <a href="#p14.3">sf_svc_disable</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 14.4. <a href="#p14.4">sf_svc_install</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 14.5. <a href="#p14.5">sf_svc_uninstall</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 14.6. <a href="#p14.6">sf_svc_is_installed</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 14.7. <a href="#p14.7">sf_svc_start</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 14.8. <a href="#p14.8">sf_svc_stop</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 14.9. <a href="#p14.9">sf_svc_is_up</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 14.10. <a href="#p14.10">sf_svc_base</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 14.11. <a href="#p14.11">sf_svc_script</a></td></tr>
<tr><td width=100% align=left>15. <a href="#p15"><b>Time/Date manipulation</b></a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 15.1. <a href="#p15.1">sf_tm_now</a></td></tr>
<tr><td width=100% align=left>16. <a href="#p16"><b>Temporary file management</b></a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 16.1. <a href="#p16.1">sf_get_tmp</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 16.2. <a href="#p16.2">sf_tmpfile</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 16.3. <a href="#p16.3">sf_tmpdir</a></td></tr>
<tr><td width=100% align=left>17. <a href="#p17"><b>User/group management</b></a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 17.1. <a href="#p17.1">sf_set_passwd</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 17.2. <a href="#p17.2">sf_set_passwd_aix</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 17.3. <a href="#p17.3">sf_create_group</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 17.4. <a href="#p17.4">sf_delete_group</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 17.5. <a href="#p17.5">sf_user_exists</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 17.6. <a href="#p17.6">sf_delete_user</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 17.7. <a href="#p17.7">sf_user_uid</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 17.8. <a href="#p17.8">sf_user_gid</a></td></tr>
<tr><td width=100% align=left>&nbsp;&nbsp;&nbsp;&nbsp; 17.9. <a href="#p17.9">sf_create_user</a></td></tr>
</table>
</p><p>&nbsp;</p><hr/>
<h1>1<a name="p1">&nbsp;</a>- System database</h1>
<h2>1.1<a name="p1.1">&nbsp;</a>- sf_db_clear</h2>
<p><b>Clear the whole database</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>1.2<a name="p1.2">&nbsp;</a>- sf_db_normalize</h2>
<p><b>Filter a name, leaving authorized chars only</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Variable name</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Normalized name</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>1.3<a name="p1.3">&nbsp;</a>- sf_db_key</h2>
<p><b>Build a key (regexp usable in grep) from a variable name</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Variable name</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Key string</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>1.4<a name="p1.4">&nbsp;</a>- sf_db_unset</h2>
<p><b>Unset a variable</b></p>
<p>No error if variable was not present in DB</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$*</td><td>Variable names</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>1.5<a name="p1.5">&nbsp;</a>- sf_db_set</h2>
<p><b>Set a variable</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Variable name</td></tr>
<tr><td width=20 align=center>$2</td><td>Value</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>1.6<a name="p1.6">&nbsp;</a>- sf_db_copy</h2>
<p><b>Duplicate a variable (copy content)</b></p>
<p>If the source variable is not set, target is created with an empty value</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Source variable name</td></tr>
<tr><td width=20 align=center>$2</td><td>Target variable name</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>1.7<a name="p1.7">&nbsp;</a>- sf_db_rename</h2>
<p><b>Rename a variable (keep content)</b></p>
<p>If the source variable is not set, target is created with an empty value</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Source variable name</td></tr>
<tr><td width=20 align=center>$2</td><td>Target variable name</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>1.8<a name="p1.8">&nbsp;</a>- sf_db_set_timestamp</h2>
<p><b>Set a variable with the &quot;sf_now&quot; timestamp value</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Variable name</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>1.9<a name="p1.9">&nbsp;</a>- sf_db_isset</h2>
<p><b>Check if a variable is set</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Variable name</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0 if variable is set, &lt;&gt; 0 if not</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>1.10<a name="p1.10">&nbsp;</a>- sf_db_get</h2>
<p><b>Get a variable value</b></p>
<p>If variable is not set, return an empty string (no error)</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Variable name</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Value or empty string if var not set</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>1.11<a name="p1.11">&nbsp;</a>- sf_db_dump</h2>
<p><b>Dump the database</b></p>
<p>Output format (each line) : &lt;name&gt;&lt;space&gt;&lt;value&gt;&lt;EOL&gt;</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>DB content</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>1.12<a name="p1.12">&nbsp;</a>- sf_db_list</h2>
<p><b>List DB keys alphabetically, one per line</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>DB keys</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>1.13<a name="p1.13">&nbsp;</a>- sf_db_import</h2>
<p><b>Import variables in dump format (one per line)</b></p>
<p>Lines are read from stdin</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>1.14<a name="p1.14">&nbsp;</a>- sf_db_expand</h2>
<p><b>Replaces patterns in the form '{{%&lt;variable name&gt;%}}' by their value.</b></p>
<p>Allows nested substitutions (ex: {{%interface{{%hcfg:icount%}}/network%}}).</p><p>Patterns which do not correspond to an existing variable are replaced by an empty string.</p><p>Input: stdin, output: stdout.</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td></td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Output</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table>
<h1>2<a name="p2">&nbsp;</a>- Disk management</h1>
<h2>2.1<a name="p2.1">&nbsp;</a>- sf_disk_normalize_device</h2>
<p><b>Normalize a disk device name</b></p>
<p>After being normalized, device names can be compared.</p><p>Input can be in the form:</p><p>- /dev/&lt;vg&gt;/&lt;lv&gt;</p><p>- /dev/mapper/...</p><p>- /dev/&lt;partition or disk&gt; (as /dev/sda1)</p><p>- LABEL=xxx</p><p>- UUID=xxx</p><p>Output is in the form:</p><p>- /dev/&lt;vg&gt;/&lt;lv&gt; if LVM logical volume</p><p>- /dev/&lt;physical&gt; if physical disk</p><p>- Copy of input if input was not recognised</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Device name to normalize</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0 if device exists, 1 if not</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Normalized name if device exists, copy of input if not</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>2.2<a name="p2.2">&nbsp;</a>- sf_disk_fs_size</h2>
<p><b>Get the size of a file system (from device name)</b></p>
<p>File system can be mounted or not.</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Device</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0 if dev exists and contains a FS, else !=0.</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>FS size in bytes. If the device does not exist or does not contain a FS, displays nothing.</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>2.3<a name="p2.3">&nbsp;</a>- sf_disk_category</h2>
<p><b>Get category of content for a given disk device</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Device path</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>'fs' if it is a filesystem 'swap' if it is a swap partition else, the type returned by disk_type()</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>2.4<a name="p2.4">&nbsp;</a>- sf_disk_type</h2>
<p><b>Returns type of content for a given disk device</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Device path</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>type returned by 'blkid' command</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table>
<h1>3<a name="p3">&nbsp;</a>- File/dir management</h1>
<h2>3.1<a name="p3.1">&nbsp;</a>- sf_delete</h2>
<p><b>Recursively deletes a file or a directory</b></p>
<p>Returns without error if arg is a non-existent path</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Path to delete</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Info msg</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>3.2<a name="p3.2">&nbsp;</a>- sf_find_executable</h2>
<p><b>Find an executable file</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Executable name</td></tr>
<tr><td width=20 align=center>$2</td><td>Optional. List of directories to search. If not search, use PATH</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Absolute path if found, nothing if not found</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>3.3<a name="p3.3">&nbsp;</a>- sf_create_dir</h2>
<p><b>Creates a directory</b></p>
<p>If the given path argument corresponds to an already existing file (any type except directory or symbolic link to a directory), the program aborts with a fatal error. If you want to avoid this (if you want to create the directory, even if something else is already existing in this path), call sf_delete first.</p><p>If the path given as arg contains a symbolic link pointing to an existing directory, it is left as-is.</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Path</td></tr>
<tr><td width=20 align=center>$2</td><td>Optional. Directory owner[:group]. Default: root</td></tr>
<tr><td width=20 align=center>$3</td><td>Optional. Directory mode in a format accepted by chmod. Default: 755</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Info msg</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>3.4<a name="p3.4">&nbsp;</a>- sf_save</h2>
<p><b>Saves a file</b></p>
<p>No action if the 'sf_nosave' environment variable is set to a non-empty string.</p><p>If the input arg is the path of an existing regular file, the file is copied to '$path.orig'</p><p>TODO: improve save features (multiple numbered saved versions,...)</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Path</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Info msg</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>3.5<a name="p3.5">&nbsp;</a>- sf_rename_to_old</h2>
<p><b>Renames a file to '&lt;dir&gt;/old.&lt;filename&gt;</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Path</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Info msg</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>3.6<a name="p3.6">&nbsp;</a>- sf_check_copy</h2>
<p><b>Copy a file or the content of function's standard input to a target file</b></p>
<p>The copy takes place only if the source and target files are different.</p><p>If the target file is already existing, it is saved before being overwritten.</p><p>If the target path directory does not exist, it is created.</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Source path. Special value: '-' means that data to copy is read from stdin, allowing to produce dynamic content without a temp file.</td></tr>
<tr><td width=20 align=center>$2</td><td>Target path</td></tr>
<tr><td width=20 align=center>$3</td><td>Optional. File creation mode. Default=644</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Info msg</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>3.7<a name="p3.7">&nbsp;</a>- sf_check_block</h2>
<p><b>Replaces or prepends/appends a data block in a file</b></p>
<p>The block is composed of entire lines and is surrounded by special comment lines when inserted in the target file. These comment lines identify the data block and allow the function to be called several times on the same target file with different data blocks. The block identifier is the base name of the source path.</p><p>If the given block is not present in the target file, it is appended or prepended, depending on the flag argument. If the block is already present in the file (was inserted by a previous run of this function), its content is compared with the new data, and replaced if different. In this case, it is replaced at the exact place where the previous block lied.</p><p>If the target file exists, it is saved before being overwritten.</p><p>If the target path directory does not exist, it is created.</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>If this arg starts with the '-' char, the data is to be read from stdin and the string after the '-' is the block identifier.</p><p>If it does not start with '-', it is the path to the source file (containing the data to insert).</td></tr>
<tr><td width=20 align=center>$2</td><td>Target path</td></tr>
<tr><td width=20 align=center>$3</td><td>Optional. Target file mode.</p><p>Default=644</td></tr>
<tr><td width=20 align=center>$4</td><td>Optional. Flag. Set to 'prepend' to add data at the beginning of the file.</p><p>Default mode: Append.</p><p>Used only if data block is not already present in the file.</p><p>Can be set to '' (empty string) to mean 'default mode'.</td></tr>
<tr><td width=20 align=center>$5</td><td>Optional. Comment character.</p><p>This argument, if set, must contain only one character. This character will be used as first char when building the 'identifier' lines surrounding the data block.</p><p>Default: '#'.</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Info msg</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>3.8<a name="p3.8">&nbsp;</a>- sf_contains_block</h2>
<p><b>Checks if a file contains a block inserted by sf_check_block</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>The block identifier or source path</td></tr>
<tr><td width=20 align=center>$2</td><td>File path</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0 if the block is in the file, !=0 if not.</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>3.9<a name="p3.9">&nbsp;</a>- sf_chown</h2>
<p><b>Change the owner of a set of files/dirs</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>owner[:group]</td></tr>
<tr><td width=20 align=center>$2+</td><td>List of paths</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>chown status code</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>3.10<a name="p3.10">&nbsp;</a>- sf_chmod</h2>
<p><b>Change the mode of a set of files/dirs</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>mode as accepted by chmod</td></tr>
<tr><td width=20 align=center>$2+</td><td>List of paths</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>chmod status code</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>3.11<a name="p3.11">&nbsp;</a>- sf_check_link</h2>
<p><b>Creates or modifies a symbolic link</b></p>
<p>The target is saved before being modified.</p><p>If the target path directory does not exist, it is created.</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Link target</td></tr>
<tr><td width=20 align=center>$2</td><td>Link path</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Info msg</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>3.12<a name="p3.12">&nbsp;</a>- sf_comment_out</h2>
<p><b>Comment one line in a file</b></p>
<p>The first line containing the (grep) pattern given in argument will be commented out by prefixing it with the comment character. If the pattern is not contained in the file, the file is left unchanged.</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>File path</td></tr>
<tr><td width=20 align=center>$2</td><td>Pattern to search (grep regex syntax)</td></tr>
<tr><td width=20 align=center>$3</td><td>Optional. Comment char (one char string). Default='#'</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Info msg</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>3.13<a name="p3.13">&nbsp;</a>- sf_uncomment</h2>
<p><b>Uncomment one line in a file</b></p>
<p>The first commented line containing the (grep) pattern given in argument will be uncommented by removing the comment character. If the pattern is not contained in the file, the file is left unchanged.</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>File path</td></tr>
<tr><td width=20 align=center>$2</td><td>Pattern to search (grep regex syntax)</td></tr>
<tr><td width=20 align=center>$3</td><td>Optional. Comment char (one char string). Default='#'</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Info msg</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>3.14<a name="p3.14">&nbsp;</a>- sf_check_line</h2>
<p><b>Checks if a given line is contained in a file</b></p>
<p>Takes a pattern and a string as arguments. The first line matching the pattern is compared with the string. If they are different, the string argument replaces the line in the file. If they are the same, the file is left unchanged. If the pattern is not found, the string arg is appended to the file. If the file does not exist, it is created.</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>File path</td></tr>
<tr><td width=20 align=center>$2</td><td>Pattern to search</td></tr>
<tr><td width=20 align=center>$3</td><td>Line string</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Info msg</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table>
<h1>4<a name="p4">&nbsp;</a>- Filesystem management</h1>
<h2>4.1<a name="p4.1">&nbsp;</a>- sf_has_dedicated_fs</h2>
<p><b>Checks if a directory is a file system mount point</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Directory to check</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0 if true, !=0 if false</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>4.2<a name="p4.2">&nbsp;</a>- sf_get_fs_mnt</h2>
<p><b>Gets the mount point of the filesystem containing a given path</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Path (must correspond to an existing element)</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>The mount directory of the filesystem containing the element</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>4.3<a name="p4.3">&nbsp;</a>- sf_get_fs_device</h2>
<p><b>Gets the device of the filesystem containing a given path</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Path (must correspond to an existing element)</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>The normalized device of the filesystem containing the element</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>4.4<a name="p4.4">&nbsp;</a>- sf_get_fs_size</h2>
<p><b>Get the size of the filesystem containing a given path</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Path (must correspond to an existing element)</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>FS size in Mbytes</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>4.5<a name="p4.5">&nbsp;</a>- sf_set_fs_space</h2>
<p><b>Extend a file system to a given size</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>A path contained in the file system to extend</td></tr>
<tr><td width=20 align=center>$2</td><td>The new size in Mbytes, or the size to add if prefixed with a '+'</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Info msg</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>4.6<a name="p4.6">&nbsp;</a>- sf_create_fs</h2>
<p><b>Create a file system, mount it, and set system configuration to mount it</b></p>
<p>at system start Refuses existing directory as mount point (security)</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Mount point</td></tr>
<tr><td width=20 align=center>$2</td><td>device path</td></tr>
<tr><td width=20 align=center>$3</td><td>FS type</td></tr>
<tr><td width=20 align=center>$4</td><td>Optional. Mount point directory owner[:group]</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0 if no error, 1 on error</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Info msg</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>4.7<a name="p4.7">&nbsp;</a>- sf_fs_default_type</h2>
<p><b>Returns default FS type for current environment</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Type</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>4.8<a name="p4.8">&nbsp;</a>- sf_create_lv_fs</h2>
<p><b>Create a logical volume and a filesystem on it</b></p>
<p>Combines sf_create_lv and sf_create_fs</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Mount point (directory)</td></tr>
<tr><td width=20 align=center>$2</td><td>Logical volume name</td></tr>
<tr><td width=20 align=center>$3</td><td>Volume group name</td></tr>
<tr><td width=20 align=center>$4</td><td>File system type</td></tr>
<tr><td width=20 align=center>$5</td><td>Size in Mbytes</td></tr>
<tr><td width=20 align=center>$6</td><td>Optional. Directory owner[:group]</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0: OK, !=0: Error</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Info msg</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table>
<h1>5<a name="p5">&nbsp;</a>- IP address manipulation (V 4 only)</h1>
<h2>5.1<a name="p5.1">&nbsp;</a>- sf_ip4_is_valid_ip</h2>
<p><b>Checks if the input string is a valid IP address</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>IP address to check</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0 if address is valid, !=0 if not</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>5.2<a name="p5.2">&nbsp;</a>- sf_ip4_validate_ip</h2>
<p><b>Checks if the input string is a valid IP address and aborts if not</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>IP address to check</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>only if address is valid</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Nothing if OK. Error if not</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>5.3<a name="p5.3">&nbsp;</a>- sf_ip4_network</h2>
<p><b>Compute network from IP and netmask</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>IP</td></tr>
<tr><td width=20 align=center>$2</td><td>Netmask</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Network</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table>
<h1>6<a name="p6">&nbsp;</a>- Kernel</h1>
<h2>6.1<a name="p6.1">&nbsp;</a>- sf_krn_module_is_loaded</h2>
<p><b>Check if a kernel module is loaded</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Module name</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0 if module is loaded, 1 if not</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table>
<h1>7<a name="p7">&nbsp;</a>- Logical volume management</h1>
<h2>7.1<a name="p7.1">&nbsp;</a>- sf_lv_exists</h2>
<p><b>Checks if a given logical volume exists</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>VG name</td></tr>
<tr><td width=20 align=center>$2</td><td>LV name</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0 if it exists, 1 if not</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>7.2<a name="p7.2">&nbsp;</a>- sf_vg_exists</h2>
<p><b>Checks if a given volume group exists</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>VG name</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0 if it exists, 1 if not</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>7.3<a name="p7.3">&nbsp;</a>- sf_create_lv</h2>
<p><b>Create a logical volume</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Logical volume name</td></tr>
<tr><td width=20 align=center>$2</td><td>Volume group name</td></tr>
<tr><td width=20 align=center>$3</td><td>Size (Default: megabytes, optional suffixes: [kmgt]. Special value: 'all' takes the whole free size in the VG.</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0: OK, !=0: Error</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Info msg</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>7.4<a name="p7.4">&nbsp;</a>- sf_create_vg</h2>
<p><b>Create a volume group</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>volume group name</td></tr>
<tr><td width=20 align=center>$2</td><td>PE size (including optional unit, default=Mb)</td></tr>
<tr><td width=20 align=center>$3</td><td>Device path, without the /dev prefix</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0: OK, !=0: Error</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Info msg</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>7.5<a name="p7.5">&nbsp;</a>- sf_lv_to_vg</h2>
<p><b>Returns the VG containing a given LV</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>LV device path</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>The containing VG name, or nothing if device is not a valid LV.</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table>
<h1>8<a name="p8">&nbsp;</a>- Utility functions</h1>
<h2>8.1<a name="p8.1">&nbsp;</a>- sf_loaded</h2>
<p><b>Checks if the library is already loaded</b></p>
<p>Of course, if it can run, the library is loaded. So, it always returns 0.</p><p>Allows to support the 'official' way to load sysfunc : sf_loaded 2&gt;/dev/null || . sysfunc.sh</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>8.2<a name="p8.2">&nbsp;</a>- sf_version</h2>
<p><b>Displays library version</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Library version (string)</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>8.3<a name="p8.3">&nbsp;</a>- sf_exec_url</h2>
<p><b>Retrieves executable data through an URL and executes it.</b></p>
<p>Supports any URL accepted by wget.</p><p>By default, the 'wget' command is used. If the $WGET environment variable is set, it is used instead (use, for instance, to specify a proxy or an alternate configuration file).</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Url</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>the return code of the executed program</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>data displayed by the executed program</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>8.4<a name="p8.4">&nbsp;</a>- sf_cleanup</h2>
<p><b>Cleanup at exit</b></p>
<p>This function discards every allocated resources (tmp files,...)</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>8.5<a name="p8.5">&nbsp;</a>- sf_finish</h2>
<p><b>Finish execution</b></p>
<p>This function discards every allocated resources (tmp files,...)</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Ooptional. Exit code. Default: 0</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Never returns. Exits from program.</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>8.6<a name="p8.6">&nbsp;</a>- sf_func_is_defined</h2>
<p><b>Check if a shell function is defined</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Function name</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0 if function is defined, 1 if not</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>8.7<a name="p8.7">&nbsp;</a>- sf_txt_cleanup</h2>
<p><b>Uncomment and cleanup input stream</b></p>
<p>changes tabs to spaces,</p><p>changes multiple blanks to one space,</p><p>removes leading and trailing blanks,</p><p>removes comments (starting with '#'),</p><p>removes blank lines</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Optional. File to read from. If not set, read from stdin</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>the cleaned stream</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table>
<h1>9<a name="p9">&nbsp;</a>- Message/Error handling</h1>
<h2>9.1<a name="p9.1">&nbsp;</a>- sf_fatal</h2>
<p><b>Displays an error message and aborts execution</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>message</td></tr>
<tr><td width=20 align=center>$2</td><td>Optional. Exit code.</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Does not return. Exits with the provided exit code if arg 2 set, with 1 if not.</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Error and abort messages</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>9.2<a name="p9.2">&nbsp;</a>- sf_unsupported</h2>
<p><b>Fatal error on unsupported feature</b></p>
<p>Call this function when a feature is not available on the current operating system (yet ?)</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>feature name</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Does not return. Exits with code 2.</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Error and abort messages</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>9.3<a name="p9.3">&nbsp;</a>- sf_error</h2>
<p><b>Displays an error message</b></p>
<p>If the SF_ERRLOG environment variable is set, it is supposed to contain a path. The error message will be appended to the file at this path. If the file does not exist, it will be created.</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Message</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Error message</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>9.4<a name="p9.4">&nbsp;</a>- sf_error_import</h2>
<p><b>Import errors into the error system</b></p>
<p>This mechanism is generally used in conjunction with the $SF_ERRLOG variable. This variable is used to temporarily distract errors from the normal flow. Then, this function can be called to reinject errors into the default error repository.</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Optional. File to import (1 error per line). If not set, takes input from stdin.</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>9.5<a name="p9.5">&nbsp;</a>- sf_show_errors</h2>
<p><b>Display a list of errors detected so far</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>List of error messages, one by line</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>9.6<a name="p9.6">&nbsp;</a>- sf_error_count</h2>
<p><b>Display a count of errors detected so far</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Error count</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>9.7<a name="p9.7">&nbsp;</a>- sf_warning</h2>
<p><b>Displays a warning message</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>message</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Warning message</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>9.8<a name="p9.8">&nbsp;</a>- sf_msg</h2>
<p><b>Displays a message (string)</b></p>
<p>If the $sf_noexec environment variable is set, prefix the message with '(n)'</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>message</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Message</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>9.9<a name="p9.9">&nbsp;</a>- sf_trace</h2>
<p><b>Display trace message</b></p>
<p>If the $sf_verbose environment variable is set or $sf_verbose_level &gt;= 1, displays the message.</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>message</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>message if verbose mode is active, nothing if not</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>9.10<a name="p9.10">&nbsp;</a>- sf_debug</h2>
<p><b>Display debug message</b></p>
<p>If $sf_verbose_level &gt;= 2, displays the message.</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>message</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>message if verbose level set to debug (2) or more</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>9.11<a name="p9.11">&nbsp;</a>- sf_msg1</h2>
<p><b>Displays a message prefixed with spaces</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>message</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>message prefixed with spaces</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>9.12<a name="p9.12">&nbsp;</a>- sf_msg_section</h2>
<p><b>Displays a 'section' message</b></p>
<p>This is a message prefixed with a linefeed and some hyphens. To be used as paragraph/section title.</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>message</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Message</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>9.13<a name="p9.13">&nbsp;</a>- sf_separator</h2>
<p><b>Displays a separator line</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>separator line</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>9.14<a name="p9.14">&nbsp;</a>- sf_newline</h2>
<p><b>Display a new line</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>new line</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>9.15<a name="p9.15">&nbsp;</a>- sf_banner</h2>
<p><b>Displays a 'banner' message</b></p>
<p>The message is displayed with an horizontal separator line above and below</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>message</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>message</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table>
<h1>10<a name="p10">&nbsp;</a>- User interaction</h1>
<h2>10.1<a name="p10.1">&nbsp;</a>- sf_ask</h2>
<p><b>Ask a question to the user</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Question</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>message to stderr, answer to stdout</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>10.2<a name="p10.2">&nbsp;</a>- sf_yn_question</h2>
<p><b>Asks a 'yes/no' question, gets answer, and return yes/no code</b></p>
<p>Works at least for questions in english, french, and german : Accepts 'Y', 'O', and 'J' for 'yes' (upper or lowercase), and anything different is considered as 'no'</p><p>If the $sf_forceyes environment variable is set, the user is not asked and the 'yes' code is returned.</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Question string</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0 for 'yes', 1 for 'no'</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Question and typed answer if $sf_forceyes not set, nothing if $sf_forceyes is set.</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table>
<h1>11<a name="p11">&nbsp;</a>- Network</h1>
<h2>11.1<a name="p11.1">&nbsp;</a>- sf_domain_part</h2>
<p><b>Suppresses the host name part from a FQDN</b></p>
<p>Displays the input string without the beginning up to and including the first '.'.</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Input FQDN</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>truncated string</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>11.2<a name="p11.2">&nbsp;</a>- sf_host_part</h2>
<p><b>Extracts a hostname from an FQDN</b></p>
<p>Removes everything from the first dot up to the end of the string</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Input FQDN</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>truncated string</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>11.3<a name="p11.3">&nbsp;</a>- sf_dns_addr_to_name</h2>
<p><b>Resolves an IP address through the DNS</b></p>
<p>If the address cannot be resolved, displays nothing</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>IP address</td></tr>
<tr><td width=20 align=center>$2</td><td>Optional. DNS server to ask</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Host name as returned by the DNS or nothing if address could not be resolved.</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>11.4<a name="p11.4">&nbsp;</a>- sf_dns_name_to_addr</h2>
<p><b>Resolves a host name through the DNS</b></p>
<p>If the name cannot be resolved, displays nothing</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Host name to resolve</td></tr>
<tr><td width=20 align=center>$2</td><td>Optional. DNS server to ask</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>IP address as returned by the DNS or nothing if name could not be resolved.</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>11.5<a name="p11.5">&nbsp;</a>- sf_primary_ip_address</h2>
<p><b>Get the primary address of the system</b></p>
<p>This is an arbitrary choice, such as the address assigned to the first network nterface. Feel free to improve !</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>IP address or nothing if no address was found</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table>
<h1>12<a name="p12">&nbsp;</a>- OS management</h1>
<h2>12.1<a name="p12.1">&nbsp;</a>- sf_os_id</h2>
<p><b>Computes and displays a string defining the curent system environment</b></p>
<p>The displayed string is a combination of the OS name, version, system architecture and may also depend on other parameters like, for instance, the RedHat ES/AS branches. It is an equivalent of the 'channel' concept used by RedHat. I personnally call it 'OS ID' for 'OS IDentifier' and use it in every script where I need a single string to identify the system environment the script is currently running on.</p><p>If the current system is not recognized, the program aborts.</p><p>By convention, environments recognized by this function support the rest of the library.</p><p>Contributors welcome ! Feel free to enhance this function with additional recognized systems, especially with other Linux distros, and send me your patches.</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>OS ID string</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>12.2<a name="p12.2">&nbsp;</a>- sf_compute_os_id</h2>
<p><b>Alias of sf_os_id() (obsolete - for compatibility only)</b></p>
<p>Other info: see sf_os_id()</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>OS ID string</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>12.3<a name="p12.3">&nbsp;</a>- sf_os_distrib</h2>
<p><b>Display the current OS distribution</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>OS distrib</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>12.4<a name="p12.4">&nbsp;</a>- sf_os_family</h2>
<p><b>Display the current OS family (Linux, SunOS,...)</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>OS distrib</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>12.5<a name="p12.5">&nbsp;</a>- sf_os_version</h2>
<p><b>Display the current OS version</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>OS distrib</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>12.6<a name="p12.6">&nbsp;</a>- sf_os_arch</h2>
<p><b>Display the current OS architecture (aka 'hardware platform')</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>OS distrib</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>12.7<a name="p12.7">&nbsp;</a>- sf_reboot</h2>
<p><b>Shutdown and restart the host</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>does not return</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>12.8<a name="p12.8">&nbsp;</a>- sf_shutdown</h2>
<p><b>Shutdown and halt the host</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>does not return</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>12.9<a name="p12.9">&nbsp;</a>- sf_poweroff</h2>
<p><b>Shutdown and poweroff the host</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>does not return</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>12.10<a name="p12.10">&nbsp;</a>- sf_find_posix_shell</h2>
<p><b>Find a Posix-compatible shell on the current host</b></p>
<p>Search a bash shell first, then ksh</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Shell path if found, nothing if not found</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table>
<h1>13<a name="p13">&nbsp;</a>- Software management</h1>
<h2>13.1<a name="p13.1">&nbsp;</a>- sf_soft_exists</h2>
<p><b>Check if software exist (installed or available for installation)</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$*</td><td>A list of software names to check</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>The number of software from the input list which DON'T exist</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>13.2<a name="p13.2">&nbsp;</a>- sf_soft_list</h2>
<p><b>List installed software</b></p>
<p>Returns a sorted list of installed software</p><p>Linux output: (name-version-release.arch)</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>software list</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>13.3<a name="p13.3">&nbsp;</a>- sf_soft_is_installed</h2>
<p><b>Check if software is installed</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$*</td><td>software name(s)</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0 if every argument software are installed. 1 if at least one of them is not.</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>13.4<a name="p13.4">&nbsp;</a>- sf_soft_is_upgradeable</h2>
<p><b>Check if a newer version of a software is available</b></p>
<p>Note : if the software is not installed, it is not considered as updateable</p><p>Note : yum returns 0 if no software are available for update</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$*</td><td>software name(s)</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0 if at least one of the given software(s) can be updated.</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>13.5<a name="p13.5">&nbsp;</a>- sf_soft_is_up_to_date</h2>
<p><b>Check if a software is installed and the latest version</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$*</td><td>software name(s)</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0 if every argument software are installed and up to date (for yum)</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>13.6<a name="p13.6">&nbsp;</a>- sf_soft_available_version</h2>
<p><b>Get the version of the available package, if any</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$*</td><td>software name</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0 if an update is available, 1 if no update available, 2 if not installed</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Available version if one exists, nothing if not</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>13.7<a name="p13.7">&nbsp;</a>- sf_soft_install</h2>
<p><b>Install a software if not already present</b></p>
<p>Install or updates a software depending on its presence on the host</p><p>If the software is installed but not up to date, no action.</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$*</td><td>software name(s)</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Info msg</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>13.8<a name="p13.8">&nbsp;</a>- sf_soft_install_upgrade</h2>
<p><b>Install or upgrade a software</b></p>
<p>Install or updates a software depending on its presence on the host</p><p>If the software is up to date, no action.</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$*</td><td>software name(s)</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Info msg</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>13.9<a name="p13.9">&nbsp;</a>- sf_soft_uninstall</h2>
<p><b>Uninstall a software (including dependencies)</b></p>
<p>Return without error if the software is not installed</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$*</td><td>software name(s)</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Info msg</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>13.10<a name="p13.10">&nbsp;</a>- sf_soft_remove</h2>
<p><b>Uninstall a software (ignoring dependencies)</b></p>
<p>Return without error if the software is not installed</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$*</td><td>software name(s)</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Info msg</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>13.11<a name="p13.11">&nbsp;</a>- sf_soft_reinstall</h2>
<p><b>Reinstall a software, even at same version</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$*</td><td>software name(s)</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Info msg</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>13.12<a name="p13.12">&nbsp;</a>- sf_soft_version</h2>
<p><b>get version of an installed software</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$*</td><td>software name</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0 if software is installed, 1 otherwise.</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Software version (nothing if soft is not installed)</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>13.13<a name="p13.13">&nbsp;</a>- sf_soft_clean_cache</h2>
<p><b>Clean the software installation cache</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table>
<h1>14<a name="p14">&nbsp;</a>- Service management</h1>
<h2>14.1<a name="p14.1">&nbsp;</a>- sf_svc_is_enabled</h2>
<p><b>Check if a service is enabled on boot</b></p>
<p>On Linux, check for current runlevel. On Solaris, check for level 3.</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Service name</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0 if enabled, 1 if diasabled, 2 if not installed</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>14.2<a name="p14.2">&nbsp;</a>- sf_svc_enable</h2>
<p><b>Enable service start/stop at system boot/shutdown</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$*</td><td>Service names</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Info msg</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>14.3<a name="p14.3">&nbsp;</a>- sf_svc_disable</h2>
<p><b>Disable service start/stop at system boot/shutdown</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$*</td><td>Service names</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Info msg</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>14.4<a name="p14.4">&nbsp;</a>- sf_svc_install</h2>
<p><b>Install a service script (script to start/stop a service)</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Source script</td></tr>
<tr><td width=20 align=center>$2</td><td>Service name</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Info msg</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>14.5<a name="p14.5">&nbsp;</a>- sf_svc_uninstall</h2>
<p><b>Uninstall a service script (script to start/stop a service)</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Service name</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Info msg</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>14.6<a name="p14.6">&nbsp;</a>- sf_svc_is_installed</h2>
<p><b>Check if a service script is installed</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Service name</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0 is installed, 1 if not</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>14.7<a name="p14.7">&nbsp;</a>- sf_svc_start</h2>
<p><b>Start a service</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Service name</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Return code from script execution</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Output from service script</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>14.8<a name="p14.8">&nbsp;</a>- sf_svc_stop</h2>
<p><b>Stop a service</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Service name</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Return code from script execution</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Output from service script</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>14.9<a name="p14.9">&nbsp;</a>- sf_svc_is_up</h2>
<p><b>Check if a service is running</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Service name</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0 if service is running, 1 if stopped, 2 if not installed</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>14.10<a name="p14.10">&nbsp;</a>- sf_svc_base</h2>
<p><b>Display the base directory of service scripts</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>String</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>14.11<a name="p14.11">&nbsp;</a>- sf_svc_script</h2>
<p><b>Display the full path of the script corresponding to a given service</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Service name</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Script path</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table>
<h1>15<a name="p15">&nbsp;</a>- Time/Date manipulation</h1>
<h2>15.1<a name="p15.1">&nbsp;</a>- sf_tm_now</h2>
<p><b>Display normalized time string for current time (UTC)</b></p>
<p>Format: DD-Mmm-YYYY HH:MM:SS (&lt;Unix time&gt;)</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Time string</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table>
<h1>16<a name="p16">&nbsp;</a>- Temporary file management</h1>
<h2>16.1<a name="p16.1">&nbsp;</a>- sf_get_tmp</h2>
<p><b>Returns an unused temporary path</b></p>
<p>The returned path can then be used to create a directory or a file. ** This function is deprecated. Please use sf_tmpfile or sf_tmpdir instead.</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>An unused temporary path</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>16.2<a name="p16.2">&nbsp;</a>- sf_tmpfile</h2>
<p><b>Creates an empty temporary file and returns its path</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Temporary file path</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>16.3<a name="p16.3">&nbsp;</a>- sf_tmpdir</h2>
<p><b>Creates an empty temporary dir and returns its path</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td>None</td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Temporary dir path</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table>
<h1>17<a name="p17">&nbsp;</a>- User/group management</h1>
<h2>17.1<a name="p17.1">&nbsp;</a>- sf_set_passwd</h2>
<p><b>Change a user's password</b></p>
<p>Works on HP-UX, Solaris, and Linux.</p><p>Replaces an encrypted passwd in /etc/passwd or /etc/shadow.</p><p>TODO: Unify with AIX and autodetect the file to use (passwd/shadow)</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Username</td></tr>
<tr><td width=20 align=center>$2</td><td>Encrypted password</td></tr>
<tr><td width=20 align=center>$3</td><td>File path</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>17.2<a name="p17.2">&nbsp;</a>- sf_set_passwd_aix</h2>
<p><b>Set an AIX password</b></p>
<p>TODO: Unify with other supported OS</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Username</td></tr>
<tr><td width=20 align=center>$2</td><td>Encrypted password</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>17.3<a name="p17.3">&nbsp;</a>- sf_create_group</h2>
<p><b>Create a user group</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Group name</td></tr>
<tr><td width=20 align=center>$2</td><td>Group Id</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Info msg</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>17.4<a name="p17.4">&nbsp;</a>- sf_delete_group</h2>
<p><b>Remove a group</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>Group name</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Status from system command</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>17.5<a name="p17.5">&nbsp;</a>- sf_user_exists</h2>
<p><b>Checks if a given user exists on the system</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>User name to check</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0 if user exists; != 0 if not</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>17.6<a name="p17.6">&nbsp;</a>- sf_delete_user</h2>
<p><b>Remove a user account</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>User name</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Status from system command</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>nothing</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>17.7<a name="p17.7">&nbsp;</a>- sf_user_uid</h2>
<p><b>Return UID of a given user</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>User name</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0 if user exists, 1 if not</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>UID if user exists, nothing if not</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>17.8<a name="p17.8">&nbsp;</a>- sf_user_gid</h2>
<p><b>Return GID of a given user</b></p>
<p></p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>User name</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>0 if user exists, 1 if not</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Primary GID if user exists, nothing if not</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table><h2>17.9<a name="p17.9">&nbsp;</a>- sf_create_user</h2>
<p><b>Create a user</b></p>
<p>To set the login shell, initialize the CREATE_USER_SHELL variable before calling the function.</p><p>For accounts with no access allowed (blocked accounts), $7, $8, and $9 are not set.</p>
<table width=100% border=0><tr><td width=50>&nbsp;</td><td><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td align=center width=50><b><i>Args</i></b></td><td style="padding: 0;"><table border=1 cellpadding=5 style="border-collapse: collapse;" width=100%><tr><td width=20 align=center>$1</td><td>User name</td></tr>
<tr><td width=20 align=center>$2</td><td>uid</td></tr>
<tr><td width=20 align=center>$3</td><td>gid</td></tr>
<tr><td width=20 align=center>$4</td><td>description (gecos)</td></tr>
<tr><td width=20 align=center>$5</td><td>home dir (can be '' for '/none')</td></tr>
<tr><td width=20 align=center>$6</td><td>Additional groups (separated with ',')</td></tr>
<tr><td width=20 align=center>$7</td><td>encrypted password (Linux)</td></tr>
<tr><td width=20 align=center>$8</td><td>encrypted password (HP-UX &amp; SunOS)</td></tr>
<tr><td width=20 align=center>$9</td><td>encrypted password (AIX)</td></tr>
</table></td></tr><tr><td align=center width=50><b><i>Returns</i></b></td><td>Always 0</td></tr>
<tr><td align=center width=50><b><i>Displays</i></b></td><td>Info msg</td></tr>
</table>
</td><td width=50>&nbsp;</td></tr></table>
